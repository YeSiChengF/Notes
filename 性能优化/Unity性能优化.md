# Unity性能优化

## 第1节 静态资源优化

在Unity中的资源都存放在asset内，分为了外部导入资源和内部创建资源，无论是哪种资源都涉及到导入问题。在不同平台上合理的资源导入设置能够带来更高的效率。 

Unity在UPR下也提供了asset检测工具`Asset Check`。 

### Audio

当实现静音功能时，不要简单设置音量为0，应该销毁AudioSource组件，将音频从内存中卸载。

#### Force To Mono单声道

一些双声道资源两个声道的声音一致，或移动设备下听不出区别则可以开启来减少内存。

#### 压缩

我们应该尽可能使用未压缩的`WAV格式文件`作为源文件。通过不同平台支持的压缩格式进行压缩。

大部分移动平台下使用`Vorbis格式`进行压缩，如果音频不进行循环还可以使用`mp3格式`。

一些操作系统对特定的压缩格式有特定的优化，比如ios下的`mp3格式`。

对一些简短常用的音效还可以使用`ADPCM格式`，可能压缩比不是最好的但是在播放时解码速度快。

#### 采样率

我们还需要关注音频的采样率，采样率高音频大小也会随之变大。

在移动平台下一般设置为22050Hz，经验之谈。在移动平台下一般都会选择对音质影响最小的最低设置。

在`Sample Rate Setting`中选择复写采样频率。

#### 加载类型

不同的音乐类型推荐使用不同的加载类型。`Load Type`。

- Decompress On Load
  - 音频压缩后大小小于200kb
- Compressed In Memory
  - 音频压缩后大小大于200kb
- Streaming
  - 适合背景音，较长较大的音频。通过流加载，避免加载卡顿。